{% extends 'layout-app.html' %}

{% set hub = "Messages" %}

{% set backLink = true %}
{% set backLinkURL = "/pages/messages/your-messages" %}

{% set pageHeading = "Range Surgery" %}
{% set pageDescription = "Received on Thursday at 2:45pm" %}

{% block content %}

  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-two-thirds">

      <!-- DYNAMIC PAGE TITLE -->
      {{ dynamicPageTitle({
        title: pageHeading,
        titleSmall: true,
        titleHiddenTextBefore: "Message from",
        description: pageDescription,
        descriptionMuted: true
      })}}

      <div class="nhsuk-u-margin-bottom-7">
        <p>Dear <span class="app-u-text-capitalize">{{ data['userFirstName'] }}</span>, We’re inviting you to get your free NHS respiratory syncytial virus (RSV) vaccine because you’re aged 75 to 79 years (or recently turned 80)...
</p>
      </div>

      {% if data['replySent'] === "true" %}

      <hr>

      <h2 id="messageSent" tabindex="-1" class="nhsuk-heading-m nhsuk-u-margin-bottom-2">Your reply has been sent</h2>
      <p class="nhsuk-u-secondary-text-color nhsuk-u-margin-bottom-5">Delivered today at 2:28pm</p>

      <p class="nhsuk-u-margin-bottom-5">'{{ data['message-reply'] }}'</p>

      <p class="nhsuk-u-secondary-text-color">If you need to change your reply, you'll need to contact Range Surgery.</p>

    
    </div>
  </div>

  {% endblock %}

  {% block pageScripts %}
    {% if data['replySentFocus'] === "true" %}
      <script>
        document.getElementById('messageSent').focus();
      </script>
    {% else %}
      <!-- JAVASCRIPT TO SHOW THE HIDDEN CONTENT -->
      <script>
        document.getElementById('showButton').addEventListener('click', function() {
          // Get a reference to the hidden div
          var hiddenDiv = document.getElementById('hiddenDiv');
    
          // Check if the div is currently hidden
          if (hiddenDiv.style.display === 'none') {
            // If hidden, show the div
            hiddenDiv.style.display = 'block';
            hiddenDiv.focus()
            showButton.style.display = 'none';
          } else {
            // If visible, hide the div
            hiddenDiv.style.display = 'none';
          }
        });
      </script>
    {% endif %}
  {% endblock %}
